<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>Registration</title>
    <link rel="stylesheet" href="styles/style.css">
    <script>
         function postData() {
            const firstName = document.getElementById("fName").value;
            const lastName = document.getElementById("lName").value;
            const address_user = document.getElementById("address").value;
            const city = document.getElementById("city").value;
            const province = document.getElementById("province").value;
            const postalCode = document.getElementById("postal").value;
            const country = document.getElementById("country").value;
            const homePhone = document.getElementById("homePhone").value;
            const busPhone = document.getElementById("busPhone").value;
            const email = document.getElementById("Email").value;
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            let url = "http://localhost:9493/Servlets_Term3_RESTfulAPI_Workshop7_war_exploded/api/registeruser";
            let successUrl = 'http://localhost:9493/Servlets_Term3_RESTfulAPI_Workshop7_war_exploded/login.html';
            let response = fetch(url, {
                method: 'POST',
                headers: {
                    firstName: firstName,
                    lastName: lastName,
                    address: address_user,
                    city: city,
                    province: province,
                    postal: postalCode,
                    country: country,
                    homephone: homePhone,
                    busphone: busPhone,
                    email: email,
                    username: username,
                    password: password
                }
            });
            console.log(response.status + "response back from the server");
            window.location = successUrl;
            // if (response.status === 200 || response.ok ) {
            //     window.location.assign(successUrl);
            //     localStorage.setItem("username", username);
            // } else {
            //     alert("Registration failed, please try again");
            // }
        }
    </script>
</head>
<body>
<div class="login-box">
    <h1>Register</h1>
    <form method="post" name="myform" id="postData">
        <div class="textbox">
            <input id="fName" type="text" placeholder="First Name" required>
        </div>
        <div class="textbox">
            <input id="lName" type="text" placeholder="Last Name" required>
        </div>
        <div class="textbox">
            <input id="address" type="text" placeholder="Address" required>
        </div>
        <div class="textbox">
            <input id="city" type="text" placeholder="City" required>
        </div>
        <div class="textbox">
            <input id="province" type="text" placeholder="Province" required>
        </div>
        <div class="textbox">
            <input id="postal" type="text" placeholder="Postal Code" required>
        </div>
        <div class="textbox">
            <input id="country" type="text" placeholder="Country">
        </div>
        <div class="textbox">
            <input id="homePhone" type="text" placeholder="Home Phone">
        </div>
        <div class="textbox">
            <input id="busPhone" type="text" placeholder="Business Phone" required>
        </div>
        <div class="textbox">
            <input id="Email" type="text" placeholder="Email Id" required>
        </div>
        <div class="textbox">
            <input id="username" type="text" placeholder="Username" required>
        </div>
        <div class="textbox">
            <input id="password" type="password" placeholder="Password" required>
        </div>

        <input type="submit" class="btn" value="Register" onclick="postData()">
    </form>
</div>
</body>
</html>